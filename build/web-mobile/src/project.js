require=function i(c,d,s){function a(e,t){if(!d[e]){if(!c[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var r=d[e]={exports:{}};c[e][0].call(r.exports,function(t){return a(c[e][1][t]||t)},r,r.exports,i,c,d,s)}return d[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({Game:[function(t,e,o){"use strict";cc._RF.push(e,"3bbc4NE11xGyZazcw8wedmQ","Game"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mark=null,t.qaNode=null,t.progressBarNode=null,t.readyCountdownNode=null,t.btnStart=null,t.countdownAudio_1=null,t.countdownAudio_2=null,t.countdownTime=0,t.questionTotal=0,t.progressBar=null,t.readyCountdown=null,t.currentTime=0,t.current=0,t.inProgress=!1,t.qdata=null,t}return __extends(t,e),t.prototype.onLoad=function(){var n=this;this.init();var e=new XMLHttpRequest;e.onload=function(){var t=JSON.parse(e.responseText);0==t.status&&(n.qdata=new Array,t.result.list.every(function(t,e){if(("A"===t.answer||"B"===t.answer||"C"===t.answer||"D"===t.answer)&&!t.pic){var o={id:e,title:t.question,right:t.answer,pic:t.pic,answer:[{id:"A",txt:t.option1},{id:"B",txt:t.option2},{id:"C",txt:t.option3},{id:"D",txt:t.option4}]};if(n.qdata.push(o),n.qdata.length>=n.questionTotal)return!1}return!0}),console.log(n.qdata))},e.open("get","https://jisujiakao.market.alicloudapi.com/driverexam/query?pagenum=1&pagesize=100&sort=rand&subject=1&type=C1",!0),e.setRequestHeader("Authorization","APPCODE d1f7d1f2048841eca46b1a56a941554b"),console.log(e.send())},t.prototype.init=function(){this.progressBarNode.active=!1,this.progressBar=this.progressBarNode.getComponent(cc.ProgressBar),this.progressBar.progress=1,this.readyCountdownNode.active=!1,this.readyCountdown=this.readyCountdownNode.getComponent(cc.Label),this.qaNode.active=!1,this.qaNode.opacity=0,this.btnStart.active=!0,this.current=0,this.mark.active=!1},t.prototype.ready=function(){var n=this,t=2;this.readyCountdownNode.active=!0,this.readyCountdown.string="Ready";var e=cc.sequence(cc.scaleTo(.2,1.6),cc.scaleTo(.6,.8)),o=cc.sequence(cc.scaleTo(.2,1.6),cc.callFunc(function(){console.log("anim end!"),setTimeout(function(){var t=n.readyCountdownNode.position,e=t.x,o=t.y;n.readyCountdownNode.runAction(cc.sequence(cc.moveTo(.5,0,1e3),cc.callFunc(function(){n.readyCountdownNode.active=!1,n.readyCountdownNode.x=e,n.readyCountdownNode.y=o,n.readyCountdownNode.scale=1,n.progressBarNode.active=!0,n.qaNode.active=!0,n.starRound()})))},300)}));this.readyCountdownNode.runAction(e),this.schedule(function(){if(t<=0)return n.readyCountdown.string="Go",void n.readyCountdownNode.runAction(o);n.readyCountdown.string=t.toString(),n.readyCountdownNode.runAction(e),t-=1},1,t,0),this.scheduleOnce(function(){cc.audioEngine.play(n.countdownAudio_1,!1,1)},1)},t.prototype.startGame=function(){this.btnStart.active=!1,this.ready()},t.prototype.starRound=function(){var t=this;if(this.current>=this.qdata.length)return this.init(),void this.unschedule(this.updateCountdownTime);this.mark.active=!0,this.mark.getComponent(cc.Label).string="第 "+(this.current+1)+" 题",this.mark.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1),cc.callFunc(function(){t.scheduleOnce(function(){t.mark.active=!1,t.qaNode.runAction(cc.fadeIn(.2)),t.inProgress=!0,t.qaNode.getComponent("Qa").initQa(t.qdata[t.current]),t.progressBar.progress=1,t.schedule(t.updateCountdownTime,1),t.current+=1},1)})))},t.prototype.endRound=function(){var t=this;this.currentTime=0,this.inProgress=!1;var e=cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){t.qaNode.getComponent("Qa").resetStatus(),t.scheduleOnce(function(){t.starRound()},.5)}));this.qaNode.runAction(e)},t.prototype.stopSchedule=function(){this.unschedule(this.updateCountdownTime)},t.prototype.updateCountdownTime=function(){this.currentTime+=1,this.progressBar.progress=1-this.currentTime/this.countdownTime,cc.audioEngine.play(this.countdownAudio_2,!1,1),this.currentTime>=this.countdownTime&&(this.unschedule(this.updateCountdownTime),this.endRound())},__decorate([i(cc.Node)],t.prototype,"mark",void 0),__decorate([i(cc.Node)],t.prototype,"qaNode",void 0),__decorate([i(cc.Node)],t.prototype,"progressBarNode",void 0),__decorate([i(cc.Node)],t.prototype,"readyCountdownNode",void 0),__decorate([i(cc.Node)],t.prototype,"btnStart",void 0),__decorate([i(cc.AudioClip)],t.prototype,"countdownAudio_1",void 0),__decorate([i(cc.AudioClip)],t.prototype,"countdownAudio_2",void 0),__decorate([i(cc.Integer)],t.prototype,"countdownTime",void 0),__decorate([i(cc.Integer)],t.prototype,"questionTotal",void 0),t=__decorate([r],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],Qa:[function(t,e,o){"use strict";cc._RF.push(e,"43a45WEJW1Pr4y9hfLJQXmJ","Qa"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.questionNode=null,t.btnAnswerNode_1=null,t.btnAnswerNode_2=null,t.btnAnswerNode_3=null,t.btnAnswerNode_4=null,t.game=null,t.faildAudio=null,t.successAudio=null,t.btnAnswerNodeArray=new Array,t.currentNode=null,t.rightNode=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.btnAnswerNodeArray=[this.btnAnswerNode_1,this.btnAnswerNode_2,this.btnAnswerNode_3,this.btnAnswerNode_4]},t.prototype.answerClick=function(t,e){if(!this.isAnswer&&this.game.getComponent("Game").inProgress){if(this.isAnswer=!0,this.currentNode=this.btnAnswerNodeArray[e],this.answer=Number(e),this.right===Number(e))return void this.correct();this.wrong()}},t.prototype.initQa=function(e){this.isAnswer=!1,this.questionNode.getComponent(cc.Label).string=e.title;var t=e.answer,o=t[0],n=t[1],r=t[2],i=t[3];this.getChildrenLabel(this.btnAnswerNode_1).string=""+o.txt,this.getChildrenLabel(this.btnAnswerNode_2).string=""+n.txt,this.getChildrenLabel(this.btnAnswerNode_3).string=""+r.txt,this.getChildrenLabel(this.btnAnswerNode_4).string=""+i.txt,this.right=e.answer.findIndex(function(t){return t.id===e.right}),this.rightNode=this.btnAnswerNodeArray[this.right]},t.prototype.correct=function(){this.animStart(),cc.audioEngine.play(this.successAudio,!1,1),this.currentNode.color=new cc.Color(88,165,92)},t.prototype.wrong=function(){this.animStart(),cc.audioEngine.play(this.faildAudio,!1,1),this.currentNode.color=new cc.Color(217,80,84)},t.prototype.animStart=function(){var e=this,t=cc.sequence(cc.scaleTo(.2,1.1),cc.callFunc(this.animOver,this));this.currentNode.runAction(t);var o=this.right===this.answer;this.currentNode.getChildByName("Label").color=cc.Color.WHITE,this.btnAnswerNodeArray.forEach(function(t){if(!o&&e.rightNode===t)return t.color=new cc.Color(88,165,92),void(t.getChildByName("Label").color=cc.Color.WHITE);e.currentNode!==t&&t.runAction(cc.scaleTo(.2,0))})},t.prototype.animOver=function(){var t=this;this.game.getComponent("Game").stopSchedule(),this.scheduleOnce(function(){t.game.getComponent("Game").endRound()},1)},t.prototype.resetStatus=function(){var e=this;this.currentNode&&(this.currentNode.runAction(cc.scaleTo(.2,1)),this.currentNode.color=cc.Color.WHITE,this.rightNode.color=cc.Color.WHITE,this.rightNode.getChildByName("Label").color=cc.Color.BLACK,this.currentNode.getChildByName("Label").color=cc.Color.BLACK,this.btnAnswerNodeArray.forEach(function(t){e.currentNode!==t&&t.runAction(cc.scaleTo(.2,1))}),this.currentNode=null)},t.prototype.getChildrenLabel=function(t){return t.getChildByName("Label").getComponent(cc.Label)},__decorate([i(cc.Node)],t.prototype,"questionNode",void 0),__decorate([i(cc.Node)],t.prototype,"btnAnswerNode_1",void 0),__decorate([i(cc.Node)],t.prototype,"btnAnswerNode_2",void 0),__decorate([i(cc.Node)],t.prototype,"btnAnswerNode_3",void 0),__decorate([i(cc.Node)],t.prototype,"btnAnswerNode_4",void 0),__decorate([i(cc.Node)],t.prototype,"game",void 0),__decorate([i(cc.AudioClip)],t.prototype,"faildAudio",void 0),__decorate([i(cc.AudioClip)],t.prototype,"successAudio",void 0),t=__decorate([r],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],mock:[function(t,e,o){"use strict";cc._RF.push(e,"2c8d9DgpDdBfYhhdno4j26K","mock"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=[{id:111,title:"小舅子是对妻子什么亲戚的称谓？",right:111,answer:[{id:111,txt:"弟弟"},{id:112,txt:"奶奶"},{id:113,txt:"侄子"},{id:114,txt:"外甥"}]},{id:112,title:"“李小鹏挂”是哪个体操项目中的动作？",right:114,answer:[{id:111,txt:"撑杆跳"},{id:112,txt:"体操"},{id:113,txt:"单杠"},{id:114,txt:"双杠"}]}],cc._RF.pop()},{}]},{},["Game","Qa","mock"]);